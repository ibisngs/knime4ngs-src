<?xml version="1.0" encoding="UTF-8"?>
<knimeNode icon="./icon_d_green.png" type="Source" xmlns="http://knime.org/node/v2.8" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://knime.org/node/v2.10 http://knime.org/node/v2.10.xsd">
    <name>VCFToolsFilter</name>
    
    <shortDescription>
        This node filters annotated VCF files.
    </shortDescription>
    
    <fullDescription>
        <intro>
        	The VCFToolsFilter enables to filter VCF files based on VCFTools.
        	Default values are taken from <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC4098776/">Carson et al. (2014)</a>.
        	The output is a VCF file containing the variants that have passed the filters.
        	All INFO fields are included in the output file but values might not be correct due to filtering.
        	However, the node provides the possibility to restore allele counts after filtering.
        </intro>
        
        <tab name="Options">
        	<option name="Further options">
        		VCFTools removes INFO fiels from VCF files. This option enables to restore allele counts (AC) and allele numbers (AN).
        	</option>
        </tab>
        <tab name="Genotype Filter">
        	<option name="Filter genotype by DP">
        		By setting a threshold for the read depth (DP), genotypes with a DP value below the threshold can be discarded.<br />
        		Make sure that DP values are given in the VCF file!
        	</option>
        	<option name="Filter genotype by AD">
        		Only when using Pindel!<br />
        		By setting a threshold for the allele depth (AD), genotypes with an AD below the threshold can be discarded.<br />
        		Make sure that AD values are given in the VCF file generated by Pindel!
        	</option>
        	<option name="Filter by GQ">
        		By setting a threshold for the genotype quality (GQ), genotypes with a GQ value below the threshold can be discarded.<br />
        		Make sure that GQ values are annotated in the VCF file!
        	</option>
        </tab>
        <tab name="Variant Filer">
        	<option name="Filter by FILTER in PASS">
        		Variants that have not been assigned to a 'PASS' regarding a previous filter, will be discarded.
        	</option>
        	<option name="Filter by call rate">
        		By setting a threshold for the call rate, variants with a call rate below the threshold can be discarded.
        	</option>
        	<option name="Filter genotypes by mean GQ">
        		By setting a threshold for the genotype quality (GQ), genotypes with a mean GQ value below the threshold can be discarded.
        	</option>
        </tab>
        <tab name="Preference page">	
        	<option name="HTE">
        		Set a threshold for repeated execution.
        		Only used if HTE is enabled in the preference page.
        	</option>
       	 	<option name="Path to VCFTool binary">
        		Set the path to vcftools executable.
        	</option>	
        </tab>
        
        
        
    </fullDescription>
    
    <ports>
        <inPort index="0" name="Input VCF">
        	Cell 0: Path to VCF file
        </inPort>
        <outPort index="0" name="Filtered VCF">
        	Cell 0: Path to filtered VCF file
        </outPort>
    </ports>    
</knimeNode>
